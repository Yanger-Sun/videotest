<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="gb2312">
    <title>Title</title>
    <link rel="stylesheet" href="css/index.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0,user-scalable=no">
    <meta http-equiv="Cache-Control" content="max-age=0">
    <meta name="apple-touch-fullscreen" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="Description" content="APPLE">
    <meta name="Keywords" content="APPLE">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link href="css/index.css" rel="stylesheet" type="text/css" />
	<style>
		ul,
li {
	list-style: none;
	line-height: 0px;
}

body,
div,
ul,
li,
img,
p,
a,
h1,
h2,
h3 {
	margin: 0px;
	padding: 0px;
	border: 0px;
}

html,
body {
	margin: 0;
	height: 100%;
	font-size: 24px;
	font-family: "SimHei";
	background: #000;
	user-select: none;
	-webkit-user-select: none;
	touch-callout: none;
	-webkit-touch-callout: none;
	overflow:hidden;
}

* {
	box-sizing: border-box;
	-webkit-tap-highlight-color: transparent;
}
video {
	background: transparent;
}

	</style>
</head>
<body>
    <div class="loading"></div>
    <div class="float" style="width:100%;height:100%;position:absolute;top:0;left:0;z-index:3">
        
         <div class="floatBg1" style="width:100%;height:100%;position:absolute;top:0;left:0;z-index:5;
    background: rgba(0,0,0,0.5);"> </div>
        <div class="floatBtn" style="width:16vw;height:16vw;background:url('https://wximg.qq.com/wxp/moment/NyZf6PMu-/img/press.png') top center no-repeat;background-size:contain;position:absolute;z-index:6;bottom:5vh;left:42vw;"></div>
       
        <div class="floatBg2" style="width:100%;height:100%;position:absolute;top:0;left:0;z-index:2">
        	<img src="https://wximg.qq.com/wxp/moment/NyZf6PMu-/img/poster.jpg" width="100%" height="100%" alt="" />
        </div>
        <div class="video" style="display:none;width:100%;height:100%;position:absolute;top:0;left:0;z-index:1; overflow: hidden;">
    	
    		
    		<video preload='auto' id='my-video'  src='tianji.mp4'  webkit-playsinline='true' playsinline='true'x-webkit-airplay='true' x5-video-player-type='h5' style="object-fit: cover;object-position: center center;" 5-video-player-fullscreen='true'  x5-video-ignore-metadata='true'  width='100%' height='100%'><p> 不支持video</p> </video>  

    	</div>
    	
    	<div class="End" style="display:none;width:100%;height:100%;position:absolute;top:0;left:0;z-index:1;background:url(https://wximg.qq.com/wxp/moment/NyZf6PMu-/img/video-end.jpg) top center no-repeat;background-size:contain;">
		<a href="#" id="end-btn" style="position: absolute;left: 50%;bottom: 3vh;margin-left: -126px;width: 252px;height: 88px;background: url(https://wximg.qq.com/wxp/moment/NyZf6PMu-/img/end-btn.png) no-repeat;z-index: 45;"></a>
		</div>
    
    
    </div>
    
	

    <script type="text/javascript" src="js/jquery.js"></script>
    <script type="text/javascript" src="js/index.js"></script>
	<script>
		
		$(function(){
			$(".floatBtn").on("touchstart",function(){
				$(".floatBg2").fadeOut();
				$(".video").show();
				$(".floatBg1").fadeOut();
				$("video")[0].play();
			})
			$(".floatBtn").on("touchend",function(){
				$("video")[0].pause();
				console.log($("video")[0].currentTime,$("video")[0].duration)
				if($("video")[0].currentTime >= 6.78){
					$("video")[0].play();
					$(".floatBtn").fadeOut();
					testVideoTimer = setInterval(testVideo,1000);
				}else{
					$(".floatBg2").fadeOut();
					$(".floatBg1").fadeIn();
					$("video")[0].pause();		}
			})
			
			
			function testVideo(){
			 	if($("video")[0].currentTime >= $("video")[0].duration){
			 		//alert("视频播放完成")
		        	$(".video").fadeOut();
		        	$(".End").fadeIn();
		        	$(".video").html("")
					clearInterval(testVideoTimer)
		     	}
				
			}
			 
		    document.addEventListener('touchstart',function(e){
				e.preventDefault();
				e.stopPropagation();
			},false)
		    
		    window.ontouchstart = function(e) { 
			    e.preventDefault(); 
			};
		    
		})
		
	</script>
</body>
</html>